# fuzzy-builder

## Проект разработки систем управления дефектами на строительных объектах

### **Используемые технологии**

**Фронтенд**
*   **React** для сборки интерфейса из переиспользуемых компонентов, поддержки глобального состояния и реактивности.
*   **TypeScript** для статической типизации, уменьшения количества ошибок, повышения читаемости кода и упрощения поддержки проекта.
*   **Vite** в качестве быстрого и современного инструмента для сборки проекта.
*   **SCSS modules** для изолированной и модульной стилизации компонентов.
*   **Библиотеки:**
    *   **React Router** для декларативной маршрутизации и навигации между страницами.
    *   **Axios** и **React Query (TanStack Query)** для выполнения HTTP-запросов, кэширования и управления состоянием серверных данных.
    *   **Ant Design** для ускорения разработки интерфейса благодаря богатой библиотеке готовых и профессиональных UI-компонентов.
    *   **Jest** в сочетании с **React Testing Library** для модульного и компонентного тестирования.

**Бэкенд**
*   **Go (Golang)** в качестве высокопроизводительного, статически типизированного языка для построения надежного и эффективного backend API.
*   **Фреймворк Gin** для создания высокопроизводительных HTTP-роутов с поддержкой middleware для аутентификации, валидации и логирования.
*   **Пакет `golang.org/x/crypto/bcrypt`** для безопасного хеширования и проверки паролей.
*   **Пакет `github.com/golang-jwt/jwt/v5`** для создания и верификации JWT-токенов аутентификации.
*   **Пакет `mime/multipart`** (стандартная библиотека) для обработки загрузки файлов. Для расширенного функционала может использоваться библиотека **`github.com/gin-contrib/multitemplate`**.
*   **Библиотека `github.com/go-playground/validator/v10`** для валидации входящих данных (тела запросов, параметров) на основе структурных тегов.
*   **Пакет `database/sql`** (стандартная библиотека) для работы с базами данных. Для логирования HTTP-запросов может использоваться **`github.com/gin-contrib/zap`** или встроенный логгер Gin.

**Базы данных**
*   **PostgreSQL** для надежного хранения структурированных данных, поддержки транзакций, сложных связей и запросов (агрегации, фильтрации).
*   **ORM: SQLC** или **GORM**.
    *   **SQLC** является предпочтительным выбором для Go, так как он генерирует типобезопасный код из SQL-запросов, обеспечивая высокую производительность и явный контроль над запросами.
    *   **GORM** предоставляет более классический ORM-подход с возможностью миграций и работы с данными через объекты, что может ускорить разработку на ранних этапах.

**Бизнес-логика системы**

1.  **Пользователи и роли**
    *   Регистрация и аутентификация с использованием JWT-токенов, передаваемых в заголовках запросов.
    *   Система ролей: Инженер, Менеджер, Руководитель/Наблюдатель.
    *   Реализация middleware на основе Gin для проверки JWT и авторизации (проверки прав доступа к эндпоинтам в зависимости от роли).

2.  **Объекты строительства (Проекты)**
    *   CRUD (Create, Read, Update, Delete) операции для управления проектами.
    *   Привязка пользователей (инженеров, менеджеров) к конкретным проектам.
    *   Расчет и отображение метрик прогресса по проекту на основе статусов связанных дефектов.

3.  **Дефекты**
    *   Полный цикл управления дефектами: создание, просмотр, редактирование, изменение статуса.
    *   Детальная модель дефекта: заголовок, описание, критичность/приоритет, назначенный исполнитель, сроки исправления, прикрепленные файлы.
    *   Жестко заданный жизненный цикл статусов: `Новая` → `В работе` → `На проверке` → `Закрыта`/`Отменена`. Смена статусов контролируется бизнес-правилами (например, закрыть дефект может только менеджер).
    *   Ведение полной истории изменений по каждому дефекту (кто, когда и что изменил) с помощью отдельной таблицы в БД.

4.  **Комментарии и обсуждения**
    *   Возможность добавления комментариев к дефектам.
    *   Хранение комментариев с привязкой к автору и дефекту.

5.  **Аналитика и отчётность**
    *   Генерация аналитических отчетов на основе данных агрегации SQL-запросов: количество дефектов по статусам, приоритетам, проектам; среднее время на устранение.
    *   Реализация эндпоинтов для экспорта сформированных отчетов и фильтрованных списков дефектов в форматы CSV и Excel (с использованием библиотек типа **`github.com/xuri/excelize/v2`**).

6.  **Безопасность и надежность**
    *   Все пароли хранятся в БД в виде хешей, созданных с помощью `bcrypt`.
    *   Защита от распространенных уязвимостей: SQL-инъекции (нейтрализуются использованием подготовленных запросов через `sqlc` или `database/sql`), XSS (санитизация данных на фронтенде и при экспорте), CSRF (использование JWT и проверка Origin/Referer заголовков).
    *   Регулярное резервное копирование базы данных (реализуется на уровне инфраструктуры, например, скриптами `cron`).
    *   Логирование всех критичных действий и ошибок на сервере для последующего аудита.
